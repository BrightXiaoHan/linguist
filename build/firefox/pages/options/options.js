(()=>{"use strict";var e,t={8517:(e,t,n)=>{n.d(t,{u:()=>L});var r=n(4222),o=n(4562),a=n(2421),i=n(1897),s=n(8389),l=n(7294),c=n(935),u=(n(2506),n(6324)),p=n(7869),d=n(1504);n(7836),n(9245),n(1357),n(3111),n(8919),n(6132),(0,d.cn)("PopupWindow"),(0,l.createContext)({}),n(9056),n(4468),n(9531),n(5604),n(7591),(0,d.cn)("TextTranslator");var f=(0,c.type)({from:s.bx,to:s.vO,text:c.string,translatedText:c.string}),g=n(74),h=n(6271),v=n(2281),b=n(8058),y=n(6530),_=n(3755),m=n(4625),C=n(8837),T=n(297),w=n(8354),x=n(2854),k=n(2472),F=n(6980),E=n(115),S=n(6705),O=n(5408),M=n(1078),P=n(922),L={translatorModule:"GoogleTranslator",language:(0,o.of)(),scheduler:{useCache:!0,translateRetryAttemptLimit:2,isAllowDirectTranslateBadChunks:!0,directTranslateLength:null,translatePoolDelay:300,chunkSizeForInstantTranslate:null},cache:{ignoreCase:!0},pageTranslator:{ignoredTags:["meta","link","script","noscript","style","code","pre","textarea"],translatableAttributes:["title","alt","placeholder","label","aria-label"],lazyTranslate:!0},textTranslator:{rememberText:!0,spellCheck:!0},selectTranslator:{zIndex:999999,rememberDirection:!1,quickTranslate:!1,modifers:[],strictSelection:!1,detectedLangFirst:!0,timeoutForHideButton:3e3,focusOnTranslateButton:!1},contentscript:{selectTranslator:{enabled:!0,disableWhileTranslatePage:!0}},popup:{rememberLastTab:!0},popupTab:{pageTranslator:{showCounters:!0}}},I=new a.i(s.XL.props,L),N=I.getConfig("translatorModule");null!==N&&(0,i.GV)(N)||I.set({translatorModule:L.translatorModule}),Object.keys(L).forEach((function(e){var t,n=localStorage.getItem(e);if(null!==n){var r=JSON.parse(n);I.set(((t={})[e]=r,t))}localStorage.removeItem(e)}));var A=new i.Aq(I);I.subscribe((function(e,t){var n,o;void 0!==e.scheduler&&!1===e.scheduler.useCache&&!0===(null===(n=t.scheduler)||void 0===n?void 0:n.useCache)&&A.clearTranslatorsCache(),void 0!==e.textTranslator&&!1===e.textTranslator.rememberText&&!0===(null===(o=t.textTranslator)||void 0===o?void 0:o.rememberText)&&function(){var e=localStorage.getItem("TextTranslator.lastState");if(null!==e)try{var t=JSON.parse(e),n=(0,u.Me)(f,t);n.text="",n.translatedText="";var r=JSON.stringify(n);localStorage.setItem("TextTranslator.lastState",r)}catch(e){console.error(e)}}(),(0,r.fD)("configUpdated")}));var j=[h.O,p.GH,v.In,b.Gt,y.N9,T.b,_.os,m.UU,C.B,g.l6,w.Y,x.A,k.m,F.gD,E.w,O.l,S.i,M.l,P.C];"/_generated_background_page.html"===location.pathname&&j.forEach((function(e){e({cfg:I,bg:A,translatorModules:i.Fj})}))},7591:(e,t,n)=>{n.d(t,{g:()=>r.g});var r=n(1083)},4222:(e,t,n)=>{n.d(t,{aJ:()=>o,an:()=>a,fD:()=>i,q1:()=>s});var r=n(9416);function o(e,t){var n=function(n,r){if(n instanceof Object&&n.action===e)return t(n.data,r)};return r.browser.runtime.onMessage.addListener(n),function(){return r.browser.runtime.onMessage.removeListener(n)}}function a(e,t){return r.browser.runtime.sendMessage({action:e,data:t})}var i=function(e,t){return r.browser.tabs.query({}).then((function(n){return Promise.all(n.map((function(n){return void 0!==n.id?function(e,t,n){return r.browser.tabs.sendMessage(e,{action:t,data:n})}(n.id,e,t):void 0})))}))},s=function(e,t){var n=(new Date).getTime();return new Promise((function(r,o){return a=void 0,i=void 0,l=function(){var a;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(i){switch(i.label){case 0:a=!1,i.label=1;case 1:return a?[3,3]:[4,e().then((function(e){if("pong"!==e)throw new Error("Incorrect ping response");r(),a=!0})).catch((function(){void 0!==t&&(new Date).getTime()-n>=t&&(o(new Error("Timeout")),a=!0)}))];case 2:return i.sent(),[3,1];case 3:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}o((l=l.apply(a,i||[])).next())}));var a,i,s,l}))}},2764:(e,t,n)=>{var r=n(4368),o=n(4562),a=n(4731),i=n(7294),s=n(1504),l=n(6486),c=n(297),u=n(3755),p=n(6530),d=n(6271),f=n(8837),g=n(4625),h=n(74),v=n(6132),b=n(8919),y=(0,s.cn)("Page"),_=function(e){var t=e.children,n=e.loading;return i.createElement("div",{className:y()},n?i.createElement("div",{className:y("Placeholder")},i.createElement(b.a,null)):i.createElement("div",{className:y("Body")},t))},m=function(e){var t=e.messages,n=e.haltMessages,r=e.deleteMessage;return i.createElement("div",null,0===t.length?void 0:i.createElement("div",{className:y("MessagesContainer"),onMouseOver:function(){return n(!0)},onMouseLeave:function(){return n(!1)}},t.map((function(e,t){var n=e.text,o=e.type,a=e.id;return i.createElement("div",{key:t,className:y("Message",{type:o}),onClick:function(){return r(a)}},n)}))))},C=n(6616),T=n(1913),w=n(4468),x=n(3563),k=n(7591),F=n(4403),E=function(e){var t=e.title,n=e.description,r=e.changed,o=e.children,a=e.error;return i.createElement("div",{className:A("Container",{},[A("IndentMixin",{vertical:!0})])},i.createElement("div",{className:A("OptionSection",{changed:r})},void 0!==t?i.createElement("div",{className:A("OptionTitle")},t):void 0,i.createElement("div",{className:A("OptionContainer")},o),void 0!==a?i.createElement("div",{className:A("OptionErrorMessage")},a):void 0,void 0!==n?i.createElement("div",{className:A("OptionDescription")},n):void 0))},S=function(e){var t=e.title,n=e.level,r=void 0===n?2:n,o=e.children,a=["h1","h2","h3","h4","h5","h6"][r-1];return i.createElement("div",{className:A("PageSection")},void 0!==t?i.createElement(a,null,t):void 0,i.createElement("div",{className:A("Container",{},[A("IndentMixin",{vertical:!0})])},o))},O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},M=function(e){var t=e.tree,n=e.config,r=e.modifiedConfig,o=e.errors,a=void 0===o?{}:o,s=e.setOptionValue,c=(0,i.useCallback)((function(e,t){void 0!==e&&s(e,t)}),[s]),u=(0,i.useCallback)((function(e,t,n){var r,o=e.path,a=e.optionContent;switch(a.type){case"Checkbox":var s=null!==(r=a.reverse)&&void 0!==r&&r,l=void 0===t?void 0:s!=!!t;return i.createElement(w.X,{checked:l,setChecked:function(e){return c(o,s!=e)},label:a.text});case"CheckboxGroup":if(!Array.isArray(t))throw new TypeError("value is not array");return i.createElement("div",{className:A("IndentMixin",{horizontal:!0})},a.options.map((function(e,n){var r,s=a.valueMap[n],l=-1!==t.indexOf(s),u=(null!==(r=e.reverse)&&void 0!==r&&r)!==l;return i.createElement(w.X,{key:n,checked:u,setChecked:function(n){var r;return c(o,t.filter((function(e){return e!==s})).concat((null!==(r=e.reverse)&&void 0!==r&&r)!==n?[s]:[]))},label:e.text})})));case"Button":return i.createElement(v.zx,{view:"action",onPress:a.action,disabled:a.disabled},a.text);case"InputMultilineFromArray":return i.createElement(k.g,{autoResize:!0,state:void 0!==n?"error":void 0,value:Array.isArray(t)?t.join("\n"):void 0,spellCheck:!1,onChange:function(e){var t=e.target.value.split("\n");c(o,1===t.length&&""===t[0]?[]:t)}});case"InputNumber":return i.createElement(F.z,{state:void 0!==n?"error":void 0,value:t,spellCheck:!1,onChange:function(e){var t=e.target.value,n=+t;c(o,isNaN(n)?t:n)}});case"SelectList":return i.createElement(x.Ph,{options:a.options,value:t,setValue:function(e){return c(o,e)}})}}),[c]),p=(0,i.useCallback)((function(e,t){void 0===t&&(t=1);var o=null===r?{}:r;return e.map((function(e,r){if(void 0!==e){if("optionContent"in e){var s=e.title,c=e.description,d=e.path,f=void 0,g=!1;void 0!==d&&(d in o?(f=o[d],(0,l.isEqual)(f,(0,l.get)(n,d))||(g=!0)):f=(0,l.get)(n,d));var h=void 0!==d&&d in a?a[d]:void 0;return i.createElement(E,O({},{title:s,description:c,changed:g,error:h},{key:r}),u(e,f,h))}var v=void 0!==e.titleSize?e.titleSize:t>6?6:t<1?1:t;return i.createElement(S,{title:e.title,level:v,key:r},i.createElement("div",{className:A("Container",{},[A("IndentMixin",{vertical:!0})])},p(e.groupContent,void 0!==e.title?v+1:v)))}}))}),[n,a,r,u]);return i.createElement(i.Fragment,null,p(t,2))},P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},N=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},A=(0,s.cn)("OptionsPage");(0,r.X)({PageComponent:function(e){var t=e.messageHideDelay,n=N((0,i.useState)(!1),2),r=n[0],a=n[1],s=N((0,i.useState)(),2),b=s[0],y=s[1],w=N((0,i.useState)(null),2),x=w[0],k=w[1],F=N((0,i.useState)(null),2),E=F[0],O=F[1],j=N((0,i.useState)(),2),z=j[0],B=j[1],D=N((0,i.useState)(!1),2),q=D[0],G=D[1],J=N((0,i.useState)(),2),U=J[0],W=J[1],K=(0,i.useCallback)((function(){return(0,u.iE)().then((function(e){return L(void 0,void 0,void 0,(function(){var t;return I(this,(function(n){switch(n.label){case 0:return[4,(0,p.Dp)()];case 1:return t=n.sent(),a(!0),y(e),W(t),[2]}}))}))}))}),[]),R=(0,T.m)({hideDelay:t}),H=R.messages,X=R.addMessage,V=R.deleteMessage,Y=R.haltMessages,Q=(0,i.useCallback)((function(e){if("string"==typeof e)X(e,"error");else if(e instanceof Error)X(e.message,"error");else{var t=(0,o.FC)("message_unknownError");X(t,"error"),console.error(e),console.error("Unknown error object above ^")}}),[X]),Z=(0,i.useCallback)((function(){new Promise((function(e){var t=document.createElement("input");t.type="file";var n=!1;t.onchange=function(){n=!0,e(t.files)};var r=function(){document.removeEventListener("focusin",r),window.setTimeout((function(){n||null!==t.files&&0!==t.files.length||e(null)}),100)};document.addEventListener("focusin",r),t.click()})).then((function(e){return null===e?null:(t=e[0],new Promise((function(e,n){var r=new FileReader;r.onload=function(){if(r.result instanceof ArrayBuffer)throw new TypeError("Unexpected ArrayBuffer type instead string or null");e(r.result)},r.onerror=function(){return n(r.error)},r.readAsText(t)})));var t})).then((function(e){if(null!==e)try{var t=JSON.parse(e);(0,g.v6)(t).then(K).then((function(){return X((0,o.FC)("settings_message_importConfig_success"),"info")})).catch(Q)}catch(e){X((0,o.FC)("settings_message_importConfig_invalidFile"),"error")}}))}),[X,Q,K]),$=(0,i.useCallback)((function(){var e,t,n,r=JSON.stringify(b);e=new Blob([r],{type:"application/json"}),t="linguist-config_"+(new Date).getTime()+".json",(n=document.createElement("a")).href=URL.createObjectURL(e),n.download=t,n.click()}),[b]),ee=(0,i.useCallback)((function(){confirm((0,o.FC)("settings_message_resetConfig_confirm"))&&(0,f.I)().then(K).then((function(){return X((0,o.FC)("settings_message_resetConfig_success"),"info")})).catch(Q)}),[X,Q,K]),te=(0,i.useCallback)((function(){O(null),k(null)}),[]),ne=(0,i.useCallback)((function(){null!==E&&(0,h.rF)(E).then((function(e){var t=e.success,n=e.errors;return L(void 0,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return t?[4,(0,u.iE)()]:(k(n),[2]);case 1:return e=r.sent(),y(e),O(null),k(null),X((0,o.FC)("settings_message_saveChanges_success"),"info"),[2]}}))}))})).catch(Q)}),[X,Q,E]),re=(0,i.useCallback)((function(){G(!0),(0,c.L)().then((function(){return X((0,o.FC)("settings_message_clearCache_success"),"info")})).catch(Q).finally((function(){return G(!1)}))}),[X,Q]),oe=(0,i.useCallback)((function(e,t){var n={};for(var r in E){var o=(0,l.get)(b,r);(0,l.isEqual)(o,E[r])||(n[r]=E[r])}var a=(0,l.get)(E,e);if((0,l.isEqual)(a,t)||(o=(0,l.get)(b,e),(0,l.isEqual)(o,t)?delete n[e]:n[e]=t),0===Object.keys(n).length&&(n=null),O(n),null!==x&&e in x){var i=P({},x);delete i[e],0===Object.keys(i).length&&(i=null),k(i)}}),[b,x,E]);if((0,i.useEffect)((function(){(0,d.q)().then(K)}),[]),(0,i.useEffect)((function(){var e=function(e){var t=e.clearCacheProcess,n=e.translatorModules,r=e.clearCache;return[{title:(0,o.FC)("settings_option_commonSettings"),groupContent:[{title:(0,o.FC)("settings_option_userLanguage"),description:(0,o.FC)("settings_option_userLanguage_desc"),path:"language",optionContent:{type:"SelectList",options:C.langCodes.map((function(e){return{id:e,content:(0,o.FC)("langCode_"+e)}})).sort((function(e,t){var n=e.content,r=t.content;return n>r?1:n<r?-1:0}))}}]},{title:(0,o.FC)("settings_option_translatePreferences"),groupContent:[void 0===n?void 0:{title:(0,o.FC)("settings_option_translatorModule"),groupContent:[{description:(0,o.FC)("settings_option_translatorModule_desc"),path:"translatorModule",optionContent:{type:"SelectList",options:Object.keys(n).map((function(e){return{id:e,content:n[e]}}))}}]},{title:(0,o.FC)("settings_option_translateScheduler"),groupContent:[{title:(0,o.FC)("settings_option_translateScheduler_delay"),description:(0,o.FC)("settings_option_translateScheduler_delay_desc"),path:"scheduler.translatePoolDelay",optionContent:{type:"InputNumber"}},{title:(0,o.FC)("settings_option_translateScheduler_retryLimit"),description:(0,o.FC)("settings_option_translateScheduler_retryLimit_desc"),path:"scheduler.translateRetryAttemptLimit",optionContent:{type:"InputNumber"}}]},{title:(0,o.FC)("settings_option_cache"),groupContent:[{description:(0,o.FC)("settings_option_cache_enable_desc"),path:"scheduler.useCache",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_cache_enable")}},{description:(0,o.FC)("settings_option_cache_ignoreCase_desc"),path:"cache.ignoreCase",optionContent:{type:"Checkbox",reverse:!0,text:(0,o.FC)("settings_option_cache_ignoreCase")}},{description:(0,o.FC)("settings_option_cache_clear_desc"),optionContent:{type:"Button",text:(0,o.FC)("settings_option_cache_clear"),disabled:t,action:r}}]}]},{title:(0,o.FC)("settings_option_pageTranslation"),groupContent:[{title:(0,o.FC)("settings_option_mainPreferences"),groupContent:[{description:(0,o.FC)("settings_option_pageTranslation_lazyTranslate_desc"),path:"pageTranslator.lazyTranslate",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_pageTranslation_lazyTranslate")}}]},{title:(0,o.FC)("settings_option_pageTranslation_translatableAttributes"),groupContent:[{description:(0,o.FC)("settings_option_pageTranslation_translatableAttributes_desc"),path:"pageTranslator.translatableAttributes",optionContent:{type:"InputMultilineFromArray"}}]},{title:(0,o.FC)("settings_option_pageTranslation_ignoredTags"),groupContent:[{description:(0,o.FC)("settings_option_pageTranslation_ignoredTags_desc"),path:"pageTranslator.ignoredTags",optionContent:{type:"InputMultilineFromArray"}}]}]},{title:(0,o.FC)("settings_option_selectTranslation"),groupContent:[{title:(0,o.FC)("settings_option_mainPreferences"),groupContent:[{path:"contentscript.selectTranslator.enabled",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_enable")}},{path:"contentscript.selectTranslator.disableWhileTranslatePage",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_disableWhileTranslatePage")}},{path:"selectTranslator.rememberDirection",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_rememberDirection")}},{description:(0,o.FC)("settings_option_selectTranslation_strictSelection_desc"),path:"selectTranslator.strictSelection",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_strictSelection")}},{description:(0,o.FC)("settings_option_selectTranslation_detectedLangFirst_desc"),path:"selectTranslator.detectedLangFirst",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_detectedLangFirst")}},{description:(0,o.FC)("settings_option_selectTranslation_focusOnTranslateButton_desc"),path:"selectTranslator.focusOnTranslateButton",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_focusOnTranslateButton")}}]},{title:(0,o.FC)("settings_option_selectTranslation_quickTranslate"),groupContent:[{description:(0,o.FC)("settings_option_selectTranslation_quickTranslate_desc"),path:"selectTranslator.quickTranslate",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_quickTranslate_enable")}}]},{title:(0,o.FC)("settings_option_selectTranslation_modifers"),groupContent:[{description:(0,o.FC)("settings_option_selectTranslation_modifers_desc"),path:"selectTranslator.modifers",optionContent:{type:"CheckboxGroup",valueMap:["ctrlKey","altKey","shiftKey","metaKey"],options:[{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_modifers_key_ctrl")},{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_modifers_key_alt")},{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_modifers_key_shift")},{type:"Checkbox",text:(0,o.FC)("settings_option_selectTranslation_modifers_key_meta")}]}}]},{title:(0,o.FC)("settings_option_selectTranslation_timeoutForHideButton"),groupContent:[{description:(0,o.FC)("settings_option_selectTranslation_timeoutForHideButton_desc"),path:"selectTranslator.timeoutForHideButton",optionContent:{type:"InputNumber"}}]},{title:(0,o.FC)("settings_option_selectTranslation_zIndex"),groupContent:[{description:(0,o.FC)("settings_option_selectTranslation_zIndex_desc"),path:"selectTranslator.zIndex",optionContent:{type:"InputNumber"}}]}]},{title:(0,o.FC)("settings_option_textTranslator"),groupContent:[{title:(0,o.FC)("settings_option_mainPreferences"),groupContent:[{description:(0,o.FC)("settings_option_textTranslator_rememberText_desc"),path:"textTranslator.rememberText",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_textTranslator_rememberText")}},{path:"textTranslator.spellCheck",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_textTranslator_spellCheck")}}]}]},{title:(0,o.FC)("settings_section_popup"),groupContent:[{title:(0,o.FC)("settings_option_pageTranslation"),groupContent:[{description:(0,o.FC)("settings_option_popupTab_pageTranslator_showCounters_desc"),path:"popupTab.pageTranslator.showCounters",optionContent:{type:"Checkbox",text:(0,o.FC)("settings_option_popupTab_pageTranslator_showCounters")}}]}]}]}({clearCacheProcess:q,translatorModules:U,clearCache:re});B(e)}),[U,q,re]),!r||void 0===b||void 0===z)return i.createElement(_,{loading:!0});var ae=null!==E;return i.createElement(_,null,i.createElement("div",{className:A()},i.createElement("div",{className:A("Page",{editMode:ae})},i.createElement(S,{title:(0,o.FC)("settings_pageTitle"),level:1},i.createElement("div",{className:A("Container",{},[A("IndentMixin",{horizontal:!0})])},i.createElement(v.zx,{view:"action",onPress:Z},(0,o.FC)("settings_button_import")),i.createElement(v.zx,{view:"action",onPress:$},(0,o.FC)("settings_button_export")),i.createElement(v.zx,{view:"action",onPress:ee},(0,o.FC)("settings_button_reset"))),i.createElement(M,{tree:z,errors:null!=x?x:void 0,config:b,modifiedConfig:E,setOptionValue:oe})),i.createElement(m,{messages:H,haltMessages:Y,deleteMessage:V})),ae?i.createElement("div",{className:A("ConfirmMenu",{},[A("IndentMixin",{horizontal:!0})])},i.createElement(v.zx,{view:"action",onPress:ne},(0,o.FC)("settings_button_saveChanges")),i.createElement(v.zx,{view:"default",onPress:te},(0,o.FC)("settings_button_cancel"))):void 0))},title:(0,o.FC)("settings_pageTitle"),theme:a.r})},297:(e,t,n)=>{n.d(t,{L:()=>o,b:()=>a});var r=n(4222),o=function(){return(0,r.an)("clearCache")},a=function(e){var t=e.bg;(0,r.aJ)("clearCache",(function(){return e=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(e){return[2,t.clearTranslatorsCache()]}))},new((r=void 0)||(r=Promise))((function(t,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}l((o=o.apply(e,n||[])).next())}));var e,n,r,o}))}},6530:(e,t,n)=>{n.d(t,{Dp:()=>i,N9:()=>s});var r=n(4222),o=n(6324),a=o.dt.record(o.dt.string,o.dt.string),i=function(){return(0,r.an)("getTranslatorModules").then((function(e){return(0,o.bB)(a,e)}))},s=function(e){var t=e.translatorModules;(0,r.aJ)("getTranslatorModules",(function(){return e=void 0,n=void 0,o=function(){var e,n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){for(n in e={},t)e[n]=t[n].moduleName;return[2,e]}))},new((r=void 0)||(r=Promise))((function(t,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}l((o=o.apply(e,n||[])).next())}));var e,n,r,o}))}},6271:(e,t,n)=>{n.d(t,{q:()=>o,O:()=>a});var r=n(4222),o=function(e){return(0,r.q1)((function(){return(0,r.an)("ping")}),e).then((function(){return!0})).catch((function(){return!1}))},a=function(){(0,r.aJ)("ping",(function(){return Promise.resolve("pong")}))}},8837:(e,t,n)=>{n.d(t,{I:()=>a,B:()=>i});var r=n(8517),o=n(4222),a=function(){return(0,o.an)("resetConfig")},i=function(e){var t=e.cfg;(0,o.aJ)("resetConfig",(function(){return e=void 0,n=void 0,a=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(e){return[2,t.set(r.u)]}))},new((o=void 0)||(o=Promise))((function(t,r){function i(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}l((a=a.apply(e,n||[])).next())}));var e,n,o,a}))}},4625:(e,t,n)=>{n.d(t,{v6:()=>s,UU:()=>l});var r=n(4222),o=n(6324),a=n(8389),i=a.XL,s=function(e){return(0,r.an)("setConfig",e)},l=function(e){var t=e.cfg;(0,r.aJ)("setConfig",(function(e){return n=void 0,r=void 0,s=function(){var n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){if(n=(0,o.bB)(i,e),!t.set(n))throw new Error("Rejected by middleware");return[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}l((s=s.apply(n,r||[])).next())}));var n,r,a,s}))}},74:(e,t,n)=>{n.d(t,{rF:()=>u,l6:()=>p});var r=n(4222),o=n(6324),a=n(6486),i=n(4562),s=n(8389),l=o.dt.record(o.dt.string,o.dt.unknown),c=o.dt.type({success:o.dt.boolean,errors:o.dt.union([o.dt.record(o.dt.string,o.dt.string),o.dt.null])}),u=function(e){return(0,r.an)("updateConfig",e).then((function(e){return(0,o.bB)(c,e)}))},p=function(e){var t=e.cfg,n=e.bg;console.warn("DBG translator",n.translator),(0,r.aJ)("updateConfig",(function(e){return n=void 0,r=void 0,u=function(){var n,r,c,u,p,d;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(f){if(n=(0,o.bB)(l,e),null===(r=(0,a.cloneDeep)(t.getAllConfig())))throw new TypeError("Config is not set");for(u in c={},n){if(0===(p=u.split(".")).length)throw new TypeError('Invalid path "'+u+'"');d=n[u],(0,o.sv)(s.XL,p,d)?(0,a.set)(r,u,d):c[u]=(0,i.FC)("settings_message_common_invalidValueType")}return Object.keys(c).length>0?[2,{success:!1,errors:c}]:(console.warn("Update config",t.getAllConfig(),r),t.set(r),[2,{success:!0,errors:null}])}))},new((c=void 0)||(c=Promise))((function(e,t){function o(e){try{i(u.next(e))}catch(e){t(e)}}function a(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(o,a)}i((u=u.apply(n,r||[])).next())}));var n,r,c,u}))}},8389:(e,t,n)=>{n.d(t,{LO:()=>a,vO:()=>i,bx:()=>s,XL:()=>l});var r=n(6324),o=n(6616),a=new r.dt.Type("ArrayOfStrings",(function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}),(function(e,t){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))?r.dt.success(e):r.dt.failure(e,t)}),r.dt.identity),i=new r.dt.Type("LangCode",(function(e){return"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1}),(function(e,t){return"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1?r.dt.success(e):r.dt.failure(e,t)}),r.dt.identity),s=new r.dt.Type("LangCodeWithAuto",(function(e){return"auto"===e||"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1}),(function(e,t){return"auto"===e||"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1?r.dt.success(e):r.dt.failure(e,t)}),r.dt.identity),l=r.dt.type({language:r.dt.string,translatorModule:r.dt.string,scheduler:r.dt.type({useCache:r.dt.boolean,translateRetryAttemptLimit:r.dt.number,isAllowDirectTranslateBadChunks:r.dt.boolean,directTranslateLength:r.dt.union([r.dt.number,r.dt.null]),translatePoolDelay:r.dt.number,chunkSizeForInstantTranslate:r.dt.union([r.dt.number,r.dt.null])}),cache:r.dt.type({ignoreCase:r.dt.boolean}),selectTranslator:r.dt.type({zIndex:r.dt.union([r.dt.number,r.dt.undefined]),focusOnTranslateButton:r.dt.union([r.dt.boolean,r.dt.undefined]),rememberDirection:r.dt.boolean,quickTranslate:r.dt.boolean,modifers:r.dt.array(r.dt.union([(0,r.uW)("ctrlKey"),(0,r.uW)("altKey"),(0,r.uW)("shiftKey"),(0,r.uW)("metaKey")])),strictSelection:r.dt.boolean,detectedLangFirst:r.dt.boolean,timeoutForHideButton:r.dt.number}),pageTranslator:r.dt.type({ignoredTags:a,translatableAttributes:a,lazyTranslate:r.dt.boolean}),textTranslator:r.dt.type({rememberText:r.dt.boolean,spellCheck:r.dt.boolean}),contentscript:r.dt.type({selectTranslator:r.dt.type({enabled:r.dt.boolean,disableWhileTranslatePage:r.dt.boolean})}),popup:r.dt.type({rememberLastTab:r.dt.boolean}),popupTab:r.dt.type({pageTranslator:r.dt.type({showCounters:r.dt.boolean})})})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,o,a]=e[u],s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=552,(()=>{var e={552:0,352:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,s,l]=n,c=0;for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r);for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[i[c]]=0;return r.O(u)},n=self.webpackChunkbrowser_addon=self.webpackChunkbrowser_addon||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[592],(()=>r(2764)));o=r.O(o)})();