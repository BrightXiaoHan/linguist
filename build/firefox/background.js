(()=>{"use strict";var e,t={8517:(e,t,n)=>{n.d(t,{u:()=>I});var r=n(4222),o=n(4562),a=n(2421),l=n(1897),i=n(8389),u=n(7294),c=n(935),s=(n(2506),n(6324)),d=n(7869),f=n(1504);n(7836),n(9245),n(1357),n(3111),n(8919),n(6132),(0,f.cn)("PopupWindow"),(0,u.createContext)({}),n(9056),n(4468),n(9531),n(5604),n(7591),(0,f.cn)("TextTranslator");var p=(0,c.type)({from:i.bx,to:i.vO,text:c.string,translatedText:c.string}),b=n(74),h=n(6271),y=n(2281),v=n(8058),g=n(6530),w=n(3755),m=n(4625),T=n(8837),x=n(297),k=n(8354),C=n(2854),S=n(2472),O=n(6980),L=n(115),A=n(6705),P=n(5408),M=n(1078),j=n(922),I={translatorModule:"GoogleTranslator",language:(0,o.of)(),scheduler:{useCache:!0,translateRetryAttemptLimit:2,isAllowDirectTranslateBadChunks:!0,directTranslateLength:null,translatePoolDelay:300,chunkSizeForInstantTranslate:null},cache:{ignoreCase:!0},pageTranslator:{ignoredTags:["meta","link","script","noscript","style","code","pre","textarea"],translatableAttributes:["title","alt","placeholder","label","aria-label"],lazyTranslate:!0},textTranslator:{rememberText:!0,spellCheck:!0},selectTranslator:{zIndex:999999,rememberDirection:!1,quickTranslate:!1,modifers:[],strictSelection:!1,detectedLangFirst:!0,timeoutForHideButton:3e3,focusOnTranslateButton:!1},contentscript:{selectTranslator:{enabled:!0,disableWhileTranslatePage:!0}},popup:{rememberLastTab:!0},popupTab:{pageTranslator:{showCounters:!0}}},_=new a.i(i.XL.props,I),B=_.getConfig("translatorModule");null!==B&&(0,l.GV)(B)||_.set({translatorModule:I.translatorModule}),Object.keys(I).forEach((function(e){var t,n=localStorage.getItem(e);if(null!==n){var r=JSON.parse(n);_.set(((t={})[e]=r,t))}localStorage.removeItem(e)}));var D=new l.Aq(_);_.subscribe((function(e,t){var n,o;void 0!==e.scheduler&&!1===e.scheduler.useCache&&!0===(null===(n=t.scheduler)||void 0===n?void 0:n.useCache)&&D.clearTranslatorsCache(),void 0!==e.textTranslator&&!1===e.textTranslator.rememberText&&!0===(null===(o=t.textTranslator)||void 0===o?void 0:o.rememberText)&&function(){var e=localStorage.getItem("TextTranslator.lastState");if(null!==e)try{var t=JSON.parse(e),n=(0,s.Me)(p,t);n.text="",n.translatedText="";var r=JSON.stringify(n);localStorage.setItem("TextTranslator.lastState",r)}catch(e){console.error(e)}}(),(0,r.fD)("configUpdated")}));var E=[h.O,d.GH,y.In,v.Gt,g.N9,x.b,w.os,m.UU,T.B,b.l6,k.Y,C.A,S.m,O.gD,L.w,P.l,A.i,M.l,j.C];"/_generated_background_page.html"===location.pathname&&E.forEach((function(e){e({cfg:_,bg:D,translatorModules:l.Fj})}))},7591:(e,t,n)=>{n(1083)},4222:(e,t,n)=>{n.d(t,{aJ:()=>o,fD:()=>a});var r=n(9416);function o(e,t){var n=function(n,r){if(n instanceof Object&&n.action===e)return t(n.data,r)};return r.browser.runtime.onMessage.addListener(n),function(){return r.browser.runtime.onMessage.removeListener(n)}}var a=function(e,t){return r.browser.tabs.query({}).then((function(n){return Promise.all(n.map((function(n){return void 0!==n.id?function(e,t,n){return r.browser.tabs.sendMessage(e,{action:t,data:n})}(n.id,e,t):void 0})))}))}},297:(e,t,n)=>{n.d(t,{b:()=>o});var r=n(4222),o=function(e){var t=e.bg;(0,r.aJ)("clearCache",(function(){return e=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(e){return[2,t.clearTranslatorsCache()]}))},new((r=void 0)||(r=Promise))((function(t,a){function l(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,i)}u((o=o.apply(e,n||[])).next())}));var e,n,r,o}))}},6530:(e,t,n)=>{n.d(t,{N9:()=>a});var r=n(4222),o=n(6324),a=(o.dt.record(o.dt.string,o.dt.string),function(e){var t=e.translatorModules;(0,r.aJ)("getTranslatorModules",(function(){return e=void 0,n=void 0,o=function(){var e,n;return function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){for(n in e={},t)e[n]=t[n].moduleName;return[2,e]}))},new((r=void 0)||(r=Promise))((function(t,a){function l(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,i)}u((o=o.apply(e,n||[])).next())}));var e,n,r,o}))})},6271:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(4222),o=function(){(0,r.aJ)("ping",(function(){return Promise.resolve("pong")}))}},8837:(e,t,n)=>{n.d(t,{B:()=>a});var r=n(8517),o=n(4222),a=function(e){var t=e.cfg;(0,o.aJ)("resetConfig",(function(){return e=void 0,n=void 0,a=function(){return function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(e){return[2,t.set(r.u)]}))},new((o=void 0)||(o=Promise))((function(t,r){function l(e){try{u(a.next(e))}catch(e){r(e)}}function i(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(l,i)}u((a=a.apply(e,n||[])).next())}));var e,n,o,a}))}},4625:(e,t,n)=>{n.d(t,{UU:()=>i});var r=n(4222),o=n(6324),a=n(8389),l=a.XL,i=function(e){var t=e.cfg;(0,r.aJ)("setConfig",(function(e){return n=void 0,r=void 0,i=function(){var n;return function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){if(n=(0,o.bB)(l,e),!t.set(n))throw new Error("Rejected by middleware");return[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{u(i.next(e))}catch(e){t(e)}}function l(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,l)}u((i=i.apply(n,r||[])).next())}));var n,r,a,i}))}},74:(e,t,n)=>{n.d(t,{l6:()=>c});var r=n(4222),o=n(6324),a=n(6486),l=n(4562),i=n(8389),u=o.dt.record(o.dt.string,o.dt.unknown),c=(o.dt.type({success:o.dt.boolean,errors:o.dt.union([o.dt.record(o.dt.string,o.dt.string),o.dt.null])}),function(e){var t=e.cfg,n=e.bg;console.warn("DBG translator",n.translator),(0,r.aJ)("updateConfig",(function(e){return n=void 0,r=void 0,s=function(){var n,r,c,s,d,f;return function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(p){if(n=(0,o.bB)(u,e),null===(r=(0,a.cloneDeep)(t.getAllConfig())))throw new TypeError("Config is not set");for(s in c={},n){if(0===(d=s.split(".")).length)throw new TypeError('Invalid path "'+s+'"');f=n[s],(0,o.sv)(i.XL,d,f)?(0,a.set)(r,s,f):c[s]=(0,l.FC)("settings_message_common_invalidValueType")}return Object.keys(c).length>0?[2,{success:!1,errors:c}]:(console.warn("Update config",t.getAllConfig(),r),t.set(r),[2,{success:!0,errors:null}])}))},new((c=void 0)||(c=Promise))((function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(o,a)}l((s=s.apply(n,r||[])).next())}));var n,r,c,s}))})},8389:(e,t,n)=>{n.d(t,{LO:()=>a,vO:()=>l,bx:()=>i,XL:()=>u});var r=n(6324),o=n(6616),a=new r.dt.Type("ArrayOfStrings",(function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}),(function(e,t){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))?r.dt.success(e):r.dt.failure(e,t)}),r.dt.identity),l=new r.dt.Type("LangCode",(function(e){return"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1}),(function(e,t){return"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1?r.dt.success(e):r.dt.failure(e,t)}),r.dt.identity),i=new r.dt.Type("LangCodeWithAuto",(function(e){return"auto"===e||"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1}),(function(e,t){return"auto"===e||"string"==typeof e&&o.langCodes.findIndex((function(t){return t===e}))>-1?r.dt.success(e):r.dt.failure(e,t)}),r.dt.identity),u=r.dt.type({language:r.dt.string,translatorModule:r.dt.string,scheduler:r.dt.type({useCache:r.dt.boolean,translateRetryAttemptLimit:r.dt.number,isAllowDirectTranslateBadChunks:r.dt.boolean,directTranslateLength:r.dt.union([r.dt.number,r.dt.null]),translatePoolDelay:r.dt.number,chunkSizeForInstantTranslate:r.dt.union([r.dt.number,r.dt.null])}),cache:r.dt.type({ignoreCase:r.dt.boolean}),selectTranslator:r.dt.type({zIndex:r.dt.union([r.dt.number,r.dt.undefined]),focusOnTranslateButton:r.dt.union([r.dt.boolean,r.dt.undefined]),rememberDirection:r.dt.boolean,quickTranslate:r.dt.boolean,modifers:r.dt.array(r.dt.union([(0,r.uW)("ctrlKey"),(0,r.uW)("altKey"),(0,r.uW)("shiftKey"),(0,r.uW)("metaKey")])),strictSelection:r.dt.boolean,detectedLangFirst:r.dt.boolean,timeoutForHideButton:r.dt.number}),pageTranslator:r.dt.type({ignoredTags:a,translatableAttributes:a,lazyTranslate:r.dt.boolean}),textTranslator:r.dt.type({rememberText:r.dt.boolean,spellCheck:r.dt.boolean}),contentscript:r.dt.type({selectTranslator:r.dt.type({enabled:r.dt.boolean,disableWhileTranslatePage:r.dt.boolean})}),popup:r.dt.type({rememberLastTab:r.dt.boolean}),popupTab:r.dt.type({pageTranslator:r.dt.type({showCounters:r.dt.boolean})})})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=(t,n,o,a)=>{if(!n){var l=1/0;for(s=0;s<e.length;s++){for(var[n,o,a]=e[s],i=!0,u=0;u<n.length;u++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(i=!1,a<l&&(l=a));if(i){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=352,(()=>{var e={352:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[l,i,u]=n,c=0;for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var s=u(r);for(t&&t(n);c<l.length;c++)a=l[c],r.o(e,a)&&e[a]&&e[a][0](),e[l[c]]=0;return r.O(s)},n=self.webpackChunkbrowser_addon=self.webpackChunkbrowser_addon||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[592],(()=>r(8517)));o=r.O(o)})();